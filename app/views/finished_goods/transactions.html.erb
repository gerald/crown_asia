<h1>Transactions for <%= @finished_good.name %></h1>

<%= will_paginate @transactions %>

<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Ref. Type</th>
      <th>Ref. Number</th>
      <th>Date</th>
      <th>Quantity</th>
      <th>Lot #</th>
      <th>DR #</th>
      <th>SI #</th>
      <th>Bag #</th>
      <th>Received From</th>
      <th>Creator</th>
      <th>Comments</th>
    </tr>
  </thead>
  <tbody>
  <% @transactions.each do |transaction| %>
    <tr class="<%= cycle("light", "dark") %>">
      <td>
        <% if transaction.transaction_type == "add" %>
          <span class="positive">Add</span>
        <% else %>
          <span class="negative">Deduct</span>
        <% end %>
      </td>
      <td><%= transaction.reference_type %></td>
      <td><%= transaction.reference_number %></td>
      <td><%= transaction.transaction_date.strftime("%m/%d/%Y") if transaction.transaction_date %></td>
      <td><%= transaction.quantity %></td>
      <td><%= transaction.lot_number %></td>
      <td><%= transaction.dr_number %></td>
      <td><%= transaction.si_number %></td>
      <td>
        <% if transaction.transaction_type == "add" %>
          <%= transaction.start_bag_number %> - <%= transaction.end_bag_number %>
        <% else %>
          <%= transaction.removed_bag_numbers %>
        <% end %>
      </td>
      <td><%= transaction.sender.name if transaction.sender %></td>
      <td><%= transaction.creator.name if transaction.creator %></td>
      <td><%= simple_format(transaction.comments) %></td>
    </tr>
  <% end %>
  </tbody>
</table>
<tr>
  <% if !@supply_transaction.new_record? %>
    <td><%= f.check_box :_destroy %></td>
  <% end %>
  <td>
    <% if @supply_transaction.new_record? %>
      <%= f.select :supply_id, Supply.all(:conditions => ["supply_type = ?", @supply_transaction.supply_type], :order => "name").collect{|s| ["#{s.name} - #{s.quantity_on_hand} available", s.id]}, {:include_blank => true}, {:class => "supply_select"} %>
    <% else %>
      <%= f.object.supply.name %>
    <% end %>
  </td>
  <td><%= f.text_field :quantity %></td>
  <td><%= f.text_field :unit_price %></td>
</tr>